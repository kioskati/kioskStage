__d((function(g,r,i,a,m,_e,d){var e,t=Object.create,n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,p=(e,t,l)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,u=(e,t,s,p)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let u of o(t))c.call(e,u)||u===s||n(e,u,{get:()=>t[u],enumerable:!(p=l(t,u))||p.enumerable});return e},h=(e,t,n)=>(p(e,"symbol"!=typeof t?t+"":t,n),n),b={};((e,t)=>{for(var l in t)n(e,l,{get:t[l],enumerable:!0})})(b,{default:()=>w}),m.exports=(e=b,u(n({},"__esModule",{value:!0}),e));var f=((e,l,o)=>(o=null!=e?t(s(e)):{},u(!l&&e&&e.__esModule?o:n(o,"default",{value:e,enumerable:!0}),e)))(r(d[0]));const y="64px",v={};class w extends f.Component{constructor(){super(...arguments),h(this,"mounted",!1),h(this,"state",{image:null}),h(this,"handleKeyPress",(e=>{"Enter"!==e.key&&" "!==e.key||this.props.onClick()}))}componentDidMount(){this.mounted=!0,this.fetchImage(this.props)}componentDidUpdate(e){const{url:t,light:n}=this.props;e.url===t&&e.light===n||this.fetchImage(this.props)}componentWillUnmount(){this.mounted=!1}fetchImage({url:e,light:t,oEmbedUrl:n}){if(!f.default.isValidElement(t))if("string"!=typeof t){if(!v[e])return this.setState({image:null}),window.fetch(n.replace("{url}",e)).then((e=>e.json())).then((t=>{if(t.thumbnail_url&&this.mounted){const n=t.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");this.setState({image:n}),v[e]=n}}));this.setState({image:v[e]})}else this.setState({image:t})}render(){const{light:e,onClick:t,playIcon:n,previewTabIndex:l,previewAriaLabel:o}=this.props,{image:s}=this.state,c=f.default.isValidElement(e),p={display:"flex",alignItems:"center",justifyContent:"center"},u={preview:{width:"100%",height:"100%",backgroundImage:s&&!c?`url(${s})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...p},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:y,width:y,height:y,position:c?"absolute":void 0,...p},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},h=f.default.createElement("div",{style:u.shadow,className:"react-player__shadow"},f.default.createElement("div",{style:u.playIcon,className:"react-player__play-icon"}));return f.default.createElement("div",{style:u.preview,className:"react-player__preview",onClick:t,tabIndex:l,onKeyPress:this.handleKeyPress,...o?{"aria-label":o}:{}},c?e:null,n||h)}}}),757,[29]);